6.5.4 (2013-02-13)
==================

- Remove bogus warnings about missing tables at the end of the start script

- Warn if the input file name ends with _fastqc instead of .fastqc

6.5.3 (2013-01-09)
==================

- template.bam.txt and template3.0.txt Makefiles now use tabs consistently

6.5.2 (2012-12-09)
==================

Bug fixes
---------

- Fix bug that caused an uninitialized value in exon, junction and transcript when the
  initial fasta_file table was not present in the database
    
Features
--------

- Added the -maxintronlength option. This allows to set the maximum length of splits
  allowed during the postprocessing of the files generated by gem-2-sam removing the
  noise. The default is set to 50k, which is reasonable in mammals, however different
  specise may require different settings. Setting it to 0 will remove this filter.


6.5.1 (2012-11-07)
==================

Features
--------

- Add trimlength option that allows tuning the minimum length to which a
  read will be trimmed during the recursive mapping.

- Add the basic scripts to run the IDR. This is not incorporated yet to the pipeline
  itself, but the scripts can be used to run it.

Bug fixes
---------

- Fix a bug that prevented the correct construction of the bed file when the
  reads were 50 bp long or shorter.

- Fix a bug that prevented the correct update of the database when running the
  start script on an already existing project.

- Fix bug that caused an uninitialized value warning and a non-allowed
  character error when running the start script with no file arguments

Internal
--------

- Add verbose to the mysqlimport statement in the build_exon_junctions.RNAseq.p


6.5 (2012-09-17)
================

Features
--------

- Rewrite the Start script in order to facilitate maintenance.

- Allow for the running of the start script with only species, genome,
  annotation and read length specified appart from a list of one or two files.
  The rest of the options are all set to defaults and the database used is the
  test database. Currently this is only possible with fastq files.

- Updated the help provided by the start_rnaseq_pipeline.pl script

Bug fixes
---------

- Set the number of CPUs used by fastqc to one.

- Change hardcoded directory in build_register_results.pl

- Fix a bug that prevented the correct running of the Flux when the read Ids
  came from HiSeq

Internal
--------

- Add verbose to the mysqlimport statement in the build_exon_junctions.RNAseq.pl
  
6.4 (2012-07-25)
================

Features
-------

- Speed up recursive mapping

    - Set trim_reads to 40 instead of 30 for the trim_reads method 
      in lib/RNAseq_GEM3.pm

    - Set trimthreshold to 15 instead of 10, and threads to 2
      in bin/run_recursive_mapper.RNAseq.pl

    - Use the main queue instead of mem_6, and set threads to 2 
      in bin/run_recursive_mapper_cluster.RNAseq.pl

- The output from the Flux capacitor is not deleted any more, making it available for
  further analysis

Bug fixes
---------

- In pipeline step _exon_inclusion_pooled, the inclusion exclusion table
  was not built

Internal
-----------

- Remove obsolete bin/run_recursive_mapper.RNAseq.parallel.pl 
    
- In bin/get_unmapped_reads.RNAseq.pl, the calculation of unmapped reads no longer
  requires the transcriptome mapping. The unmapped reads are calculated from the ones
  neither mapping to the genome nor the junctions.

6.3 (2012-07-10)
================

Bugfixes
--------

- Get all the scores in qualities and ambiguous in bin/parse_fastqc.RNAseq.pl

- Fix parsing of reads in bin/run_gem2sam.RNAseq.pl 

- Find libraries correctly in bin/parse_fastqc.RNAseq.pl

- Handle HiSEq read IDs correctly in bin/build_inclusion_dist.RNAseq.pl

Internal
--------

- In template3.0.txt, remove unpooled transcript quantification

- In template3.0.txt, remove the need for the unpooled inclusion

- In bin/build_inclusion_dist.RNAseq.pl, remove the need for the unpooled inclusion

- In template.bam.txt, remove the non pooled transcript expression levels

6.2 (2012-07-06)
================

- FastQC is now used to calculate the read stats

- In the _read_stats rule, use build_read_stats.fastqc.RNAseq.pl instead of 
  build_read_stats.RNAseq.pl

- Add parse_fastqc.RNAseq.pl to the _read_stats rule

- Add bin/get_feature_RPKM_gtf.RNAseq.pl for creating a gtf file with the requested
  features (genes, transcripts or exons), adding the RPKM values to them.

6.1 (2012-06-27)
================

- Installation is now done using grape.buildout exclusively.

- Calculate gene and exon RPKM now from the Flux Capacitor results.
  The implementation of the rules _exon_RPKM_pooled and _gene_RPKM_pooled 
  have been changed, and the old rules have been deprecated by adding a
  postfix '_old'.
  
- Add bin/build_read_stats.fastqc.RNAseq.pl that will take as an input
  a list of fasta, fastq or bam files and it will output a summary of
  the read statistics in the file calculated by fastqc

- Add a rule for getting novel transcripts: _novel_transcripts
  This runs cufflinks the following new scripts:

  - bin/run_cufflinks.RNAseq.pl - will run cufflinks on the 
    merged SAM files with the most basic settings

  - bin/build_novel_transcripts.RNAseq.pl - will take the output
    of cufflinks and create a table to load in the database with this
    information

- Add lib/Tools/FastQC.pm for running FastQC, A quality control tool 
  for high throughput sequence data.

- Add lib/Tools/Cluster.pm containing subroutines used for submitting 
  jobs to the cluster

- Bugfix to prevent error when checking for the prerequisite flux executable

- Fix error in some tables when processing only one file of single end reads

- RPKM pooled is calculated from the flux output

6.0 (2012-04-27)
================

- Require only one gene in bin/compare_individual_genes.RNAseqComp.pl

- Fix bug occurring when no exons are detected

- Allow the comparison scripts to one with 1 dataset instead of requiring 2

- Count "." as an N in case the reads have not been preprocessed correctly

- Prevent the pipeline fom dying if no transcripts are detected

- Avoid counting the trimmed reads that map to more than 10 locations when 
  generating the mapping statistics

- Fix projections for genes with repeated exons in 
  bin/build_gene_projections.RNAseq.pl

- Skip recursive mapping if final file is already present

- Take the information for the exon overlap total from the bam file

- Allow for no transcripts and no genes to be detected without crashing

- use the bam for the exon overlaps

- Get the overlaps from the BAM when starting from bam files

- Get the overlaps from the BAM file in fastq

- Prevent the crashing of the pipeline when no read is mapped to the genome

- Add mapper memory in configuration to bin/run_mapper_cluster.RNAseq.pl

- Add bin/get_proj_overlaps_cluster2.RNAseq.pl

- Modify the overlap.total calculation in order to reduce time by using the
  information from the BAM directly instead of the overlap

- Add fluxmem option

- Add bin/link_sam.RNAseq.pl

- Add missing script bin/get_split_coverage_bam.RNAseq.pl

- Add timing for the total pipeline and each of the steps

- Remove the unpooled gene RPKM and use the pooled gene RPKM for the fusion
  transcript rule.

- Remove the reference file name from the gtf to reduce the size in 
  lib/RNAseq_pipeline_settings3.pm

- Add a check for the creation of the junctions table. Remove redundant code
  and remove the exon RPKM (unpooled) step

- Remove the file nme from the gtf in order to reduce file sizes in
  lib/RNAseq_pipeline3.pm

- Change cluster run for overlap 

- Add autoflush to the logs in lib/RNAseq_pipeline3.pm

- Reduce code by removing the read.list generation, as this is done by buildout

- Add some additional checks to bin/prepare_files.RNAseq.pl and change the way
  the log file is managed in order to time the script

- Execute script will show the wall clock time for each of teh steps executed as well as the total.

- Exon RPKM and Gene RPKM are no longer calculated for the individual lanes.

- Fix problem with the projection generation that missed some genes containing exons that are present in more than one gene. This affects > 1% of the genes

5.0.1 (2012-03-26)
==================

- add ./bin/contrib/ to host contributions from other developers

- add ./bin/run_cluster_flux.main.pl
      ./bin/run_mapper_cluster.main.pl
      ./bin/contrib/templates/template3.0.1.txt
  with specific options for 'main' cluster queue that do not work on the standard 'mem_6' queue
  
5.0 (2012-03-22)
================

- First official release

1.4.0 (2011-01-04)
==================

- Start script has a -clean option that removes all information from an experiment
  from the databases

- Quality type has to be provided to the start script in order to correctly run the
  pipeline. This has two options 'phred 'or 'solexa'
